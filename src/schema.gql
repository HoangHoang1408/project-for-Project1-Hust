# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type StoredFile {
  fileUrl: String!
  filePath: String!
}

type Procedure {
  mortgateProperty: [String!]
  mortgatePaper: [String!]
  verificationPaper: [String!]
}

type CarType {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  carType: CarTypeEnum!
  price: Float!
  maxDistance: Float
  additionalDistancePrice: Float
  procedures: Procedure!
  acceptedPayment: [Payment!]!
  cars: [Car!]
  bookings: [Booking!]
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

enum CarTypeEnum {
  SEAT4
  SEAT5
  SEAT7
  PICKUP_TRUCK
  LUXURY_CAR
}

enum Payment {
  BEFORE
  AFTER
  BANK_TRANSFER
}

type VehicleStatus {
  booked: Boolean!
  goodCondition: Boolean!
}

type Car {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  rating: Float!
  engineType: EngineType!
  manufactureYear: Float!
  images: [StoredFile!]
  licensePlate: String!
  vehicleStatus: VehicleStatus!
  carBrand: CarBrand!
  transmissionType: TransmissionType!
  consumption: Float!
  features: [String!]!
  carType: CarType!
  bookings: [Booking!]
}

enum EngineType {
  GASOLINE
  ELECTRIC
  HIBRID
}

enum CarBrand {
  VINFAST
  TOYOTA
  HUYNDAI
  FORD
  HONDA
  NISSAN
  SUZUKI
  VOLVO
}

enum TransmissionType {
  MANUAL_TRANSMISSION
  AUTOMATIC_TRANSMISSION
}

type Booking {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  bookingCode: String!
  homeDelivery: String!
  startDate: DateTime!
  endDate: DateTime!
  totalPrice: Float!
  payment: Payment!
  status: BookingStatus!
  rating: Int
  feedBack: String
  cars: [Car!]!
  quantity: Float!
  carType: CarType!
  user: User
  customerName: String!
  customerPhone: String!
  note: String
}

enum BookingStatus {
  NOT_DEPOSITE
  DEPOSITED
  VEHICLE_TAKEN
  FINISHED
}

type User {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  email: String!
  verified: Boolean!
  password: String!
  name: String!
  role: UserRole!
  address: String
  phoneNumber: String
  avatar: StoredFile
  bookings: [Booking!]
}

enum UserRole {
  Normal
  Admin
}

type SimpleUser {
  id: ID!
  email: String!
  name: String!
  role: UserRole!
}

type CustomError {
  mainReason: String!
  message: String!
}

type PaginationOutput {
  totalPages: Int
  totalResults: Int
}

type ForgotPasswordOutput {
  ok: Boolean!
  error: CustomError
}

type LoginOutPut {
  ok: Boolean!
  error: CustomError
  accessToken: String
  user: SimpleUser
}

type NewAccessTokenOutput {
  ok: Boolean!
  error: CustomError
  accessToken: String
}

type SignUpOutPut {
  ok: Boolean!
  error: CustomError
}

type VerifyEmailOutput {
  ok: Boolean!
  error: CustomError
}

type VerifyForgotPasswordOutput {
  ok: Boolean!
  error: CustomError
}

type CreateBookingOutput {
  ok: Boolean!
  error: CustomError
  bookingCode: String
}

type UpdateBookingStatusOutput {
  ok: Boolean!
  error: CustomError
}

type GetBookingDetailOutput {
  ok: Boolean!
  error: CustomError
  booking: Booking
}

type GetBookingsByOutput {
  ok: Boolean!
  error: CustomError
  bookings: [Booking!]
  pagination: PaginationOutput
}

type BookingFeedBackOutput {
  ok: Boolean!
  error: CustomError
}

type CheckCarAvailableOutput {
  ok: Boolean!
  error: CustomError
  available: Boolean
}

type CreateCarOutput {
  ok: Boolean!
  error: CustomError
}

type GetCarDetailOutput {
  ok: Boolean!
  error: CustomError
  car: Car
}

type GetCarTypeOutput {
  ok: Boolean!
  error: CustomError
  carType: CarType
}

type ChangePasswordOutput {
  ok: Boolean!
  error: CustomError
}

type GetDetailUserOutput {
  ok: Boolean!
  error: CustomError
  user: User!
}

type UpdateUserOutput {
  ok: Boolean!
  error: CustomError
}

input StoredFileInputType {
  fileUrl: String!
  filePath: String!
}

input ProcedureInputType {
  mortgateProperty: [String!]
  mortgatePaper: [String!]
  verificationPaper: [String!]
}

input CarTypeInput {
  carType: CarTypeEnum!
  price: Float!
  maxDistance: Float
  additionalDistancePrice: Float
  procedures: ProcedureInputType!
  acceptedPayment: [Payment!]!
  cars: [CarInputType!]
  bookings: [BookingInputType!]
}

input CarInputType {
  name: String!
  rating: Float!
  engineType: EngineType!
  manufactureYear: Float!
  images: [StoredFileInputType!]
  licensePlate: String!
  vehicleStatus: VehicleStatusInputType!
  carBrand: CarBrand!
  transmissionType: TransmissionType!
  consumption: Float!
  features: [String!]!
  carType: CarTypeInput!
  bookings: [BookingInputType!]
}

input BookingInputType {
  bookingCode: String!
  homeDelivery: String!
  startDate: DateTime!
  endDate: DateTime!
  totalPrice: Float!
  payment: Payment!
  status: BookingStatus!
  rating: Int
  feedBack: String
  cars: [CarInputType!]!
  quantity: Float!
  carType: CarTypeInput!
  user: UserInputType
  customerName: String!
  customerPhone: String!
  note: String
}

input UserInputType {
  email: String!
  verified: Boolean!
  password: String!
  name: String!
  role: UserRole!
  address: String
  phoneNumber: String
  avatar: StoredFileInputType
  bookings: [BookingInputType!] = {}
}

input VehicleStatusInputType {
  booked: Boolean!
  goodCondition: Boolean!
}

type Query {
  getDetailUser: GetDetailUserOutput!
  login(input: LoginInput!): LoginOutPut!
  newAccessToken(input: NewAccessTokenInput!): NewAccessTokenOutput!
  verifyEmail(input: VerifyEmailInput!): VerifyEmailOutput!
  forgotPassword(input: ForgotPasswordInput!): ForgotPasswordOutput!
  getCarDetail(input: GetCarDetailInput!): GetCarDetailOutput!
  getCarType(input: GetCarTypeInput!): GetCarTypeOutput!
  checkCarAvailable(input: CheckCarAvailableInput!): CheckCarAvailableOutput!
  getBookingDetail(input: GetBookingDetailInput!): GetBookingDetailOutput!
  getBookingsBy(input: GetBookingsByInput!): GetBookingsByOutput!
}

input LoginInput {
  email: String!
  password: String!
}

input NewAccessTokenInput {
  accessToken: String!
}

input VerifyEmailInput {
  verificationToken: String!
}

input ForgotPasswordInput {
  email: String!
}

input GetCarDetailInput {
  carId: ID!
}

input GetCarTypeInput {
  carType: CarTypeEnum!
}

input CheckCarAvailableInput {
  startDate: DateTime!
  endDate: DateTime!
  carType: CarTypeEnum!
  quantity: Float!
}

input GetBookingDetailInput {
  bookingId: ID!
}

input GetBookingsByInput {
  carType: CarTypeEnum
  startDate: DateTime
  endDate: DateTime
  pagination: PaginationInput!
}

input PaginationInput {
  page: Int = 1
  resultsPerPage: Int = 10
}

type Mutation {
  updateUser(input: UpdateUserInput!): UpdateUserOutput!
  changePassword(input: ChangePasswordInput!): ChangePasswordOutput!
  signup(input: SignUpInput!): SignUpOutPut!
  verifyForgotPassword(input: VerifyForgotPasswordInput!): VerifyForgotPasswordOutput!
  createCar(input: CreateCarInput!): CreateCarOutput!
  createBooking(input: CreateBookingInput!): CreateBookingOutput!
  updateBookingStatus(input: UpdateBookingStatusInput!): UpdateBookingStatusOutput!
  bookingFeedback(input: BookingFeedBackInput!): BookingFeedBackOutput!
}

input UpdateUserInput {
  name: String!
  address: String
  phoneNumber: String
  avatar: StoredFileInputType
}

input ChangePasswordInput {
  password: String!
  currentPassword: String!
  confirmPassword: String!
}

input SignUpInput {
  email: String!
  password: String!
  name: String!
  role: UserRole!
  confirmPassword: String!
}

input VerifyForgotPasswordInput {
  verificationToken: String!
  password: String!
  confirmPassword: String!
}

input CreateCarInput {
  name: String!
  engineType: EngineType!
  manufactureYear: Float!
  images: [StoredFileInputType!]
  licensePlate: String!
  carBrand: CarBrand!
  transmissionType: TransmissionType!
  consumption: Float!
  features: [String!]!
  carType: CarTypeInput!
  bookings: [BookingInputType!]
}

input CreateBookingInput {
  homeDelivery: String!
  startDate: DateTime!
  endDate: DateTime!
  payment: Payment!
  quantity: Float!
  customerName: String!
  customerPhone: String!
  note: String
  carTypeName: CarTypeEnum!
}

input UpdateBookingStatusInput {
  status: BookingStatus!
  bookingId: Int!
}

input BookingFeedBackInput {
  id: ID!
  rating: Int!
  feedback: String
}